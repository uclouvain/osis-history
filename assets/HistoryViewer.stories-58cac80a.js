var qr=Object.defineProperty;var o=(e,t)=>qr(e,"name",{value:t,configurable:!0});import{T as jr}from"./TableHistory-599514e5.js";import{T as Dr}from"./TimelineHistory-206afa5a.js";import{k as Br,l as J,F as Bt,m as zr,n as Vr,p as he,t as Gr,q as Wr,u as Jr,v as j,x as ut}from"./vue.esm-bundler-acd08dbe.js";import{_ as Kr}from"./plugin-vueexport-helper-a0691a9b.js";const Qt=Br({name:"HistoryViewer",components:{TableHistory:jr,TimelineHistory:Dr},props:{url:{type:String,required:!0},tags:{type:String,default:""},modes:{type:Array,default:()=>["table","vertical","horizontal"]},defaultMode:{type:String,default:"table"},onItemRenderTable:{type:Function,default:null},onHeadersRenderTable:{type:Function,default:null},onItemRenderHorizontalTimeline:{type:Function,default:null},onItemRenderVerticalTimeline:{type:Function,default:null},onHistoryEmptyRender:{type:Function,default:null}},data(){let e=this.defaultMode;return this.modes.includes(this.defaultMode)||(e=this.modes[0]),{mode:e==="table"?"TableHistory":"TimelineHistory",horizontal:e==="horizontal",entries:[],error:"",loading:!0}},mounted(){this.loadEntries()},methods:{loadEntries:async function(){try{const e=await fetch(`${this.url}${this.tags?"?tags="+this.tags:""}`);e.status===200?this.entries=await e.json():this.error=e.statusText}catch(e){this.error=e.message}this.loading=!1}}});const Xr={class:"history-viewer"},Yr={key:0,class:"btn-group","data-toggle":"buttons"},Zr=he("input",{type:"radio",name:"mode"},null,-1),Qr=he("span",{class:"fa fa-table"},null,-1),es=[Zr,Qr],ts=he("input",{type:"radio",name:"mode"},null,-1),ns=he("span",{class:"fas fa-ellipsis-v"},null,-1),rs=[ts,ns],ss=he("input",{type:"radio",name:"mode"},null,-1),is=he("span",{class:"fa fa-ellipsis-h"},null,-1),os=[ss,is],as={class:"viewport"},cs={key:0,class:"spinner"},ls={key:1,class:"text-danger"};function us(e,t,r,i,a,c){return j(),J("div",Xr,[e.modes.length>1?(j(),J("div",Yr,[(j(!0),J(Bt,null,zr(e.modes,f=>(j(),J(Bt,{key:f},[f==="table"?(j(),J("label",{key:0,class:ut(["btn btn-default",{active:e.mode==="TableHistory"}]),onClick:t[0]||(t[0]=g=>e.mode="TableHistory")},es,2)):f==="vertical"?(j(),J("label",{key:1,class:ut(["btn btn-default",{active:e.mode==="TimelineHistory"&&e.horizontal===!1}]),onClick:t[1]||(t[1]=g=>{e.mode="TimelineHistory",e.horizontal=!1})},rs,2)):(j(),J("label",{key:2,class:ut(["btn btn-default",{active:e.mode==="TimelineHistory"&&e.horizontal===!0}]),onClick:t[2]||(t[2]=g=>{e.mode="TimelineHistory",e.horizontal=!0})},os,2))],64))),128))])):Vr("",!0),he("div",as,[e.loading?(j(),J("span",cs)):e.error?(j(),J("span",ls,Gr(e.error),1)):(j(),Wr(Jr(e.mode),{key:2,entries:e.entries,horizontal:e.horizontal,"on-item-render":e.mode==="TableHistory"?e.onItemRenderTable:e.horizontal?e.onItemRenderHorizontalTimeline:e.onItemRenderVerticalTimeline,"on-headers-render":e.onHeadersRenderTable,"on-history-empty":e.onHeadersRenderTable},null,40,["entries","horizontal","on-item-render","on-headers-render","on-history-empty"]))])])}o(us,"_sfc_render");const te=Kr(Qt,[["render",us]]);Qt.__docgenInfo={displayName:"HistoryViewer",exportName:"default",description:"",tags:{},props:[{name:"url",type:{name:"string"},required:!0},{name:"tags",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"modes",type:{name:"string[]"},defaultValue:{func:!0,value:"() => ['table', 'vertical', 'horizontal']"}},{name:"defaultMode",type:{name:"string"},defaultValue:{func:!1,value:"'table'"}},{name:"onItemRenderTable",type:{name:"func"},defaultValue:{func:!1,value:"null"}},{name:"onHeadersRenderTable",type:{name:"func"},defaultValue:{func:!1,value:"null"}},{name:"onItemRenderHorizontalTimeline",type:{name:"func"},defaultValue:{func:!1,value:"null"}},{name:"onItemRenderVerticalTimeline",type:{name:"func"},defaultValue:{func:!1,value:"null"}},{name:"onHistoryEmptyRender",type:{name:"func"},defaultValue:{func:!1,value:"null"}}]};var De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}o(fs,"unwrapExports");function Ye(e,t){return t={exports:{}},e(t,t.exports),t.exports}o(Ye,"createCommonjsModule");var we=1e3,ve=we*60,Ce=ve*60,de=Ce*24,ds=de*7,hs=de*365.25,ps=o(function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return gs(e);if(r==="number"&&isFinite(e))return t.long?ys(e):ms(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))},"ms");function gs(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*hs;case"weeks":case"week":case"w":return r*ds;case"days":case"day":case"d":return r*de;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Ce;case"minutes":case"minute":case"mins":case"min":case"m":return r*ve;case"seconds":case"second":case"secs":case"sec":case"s":return r*we;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}o(gs,"parse");function ms(e){var t=Math.abs(e);return t>=de?Math.round(e/de)+"d":t>=Ce?Math.round(e/Ce)+"h":t>=ve?Math.round(e/ve)+"m":t>=we?Math.round(e/we)+"s":e+"ms"}o(ms,"fmtShort");function ys(e){var t=Math.abs(e);return t>=de?Be(e,t,de,"day"):t>=Ce?Be(e,t,Ce,"hour"):t>=ve?Be(e,t,ve,"minute"):t>=we?Be(e,t,we,"second"):e+" ms"}o(ys,"fmtLong");function Be(e,t,r,i){var a=t>=r*1.5;return Math.round(e/r)+" "+i+(a?"s":"")}o(Be,"plural");function bs(e){r.debug=r,r.default=r,r.coerce=u,r.disable=c,r.enable=a,r.enabled=f,r.humanize=ps,r.destroy=p,Object.keys(e).forEach(h=>{r[h]=e[h]}),r.names=[],r.skips=[],r.formatters={};function t(h){let m=0;for(let y=0;y<h.length;y++)m=(m<<5)-m+h.charCodeAt(y),m|=0;return r.colors[Math.abs(m)%r.colors.length]}o(t,"selectColor"),r.selectColor=t;function r(h){let m,y=null;function v(...T){if(!v.enabled)return;const H=v,B=Number(new Date),Re=B-(m||B);H.diff=Re,H.prev=m,H.curr=B,m=B,T[0]=r.coerce(T[0]),typeof T[0]!="string"&&T.unshift("%O");let S=0;T[0]=T[0].replace(/%([a-zA-Z%])/g,(se,me)=>{if(se==="%%")return"%";S++;const z=r.formatters[me];if(typeof z=="function"){const ie=T[S];se=z.call(H,ie),T.splice(S,1),S--}return se}),r.formatArgs.call(H,T),(H.log||r.log).apply(H,T)}return o(v,"debug"),v.namespace=h,v.useColors=r.useColors(),v.color=r.selectColor(h),v.extend=i,v.destroy=r.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>y===null?r.enabled(h):y,set:T=>{y=T}}),typeof r.init=="function"&&r.init(v),v}o(r,"createDebug");function i(h,m){const y=r(this.namespace+(typeof m>"u"?":":m)+h);return y.log=this.log,y}o(i,"extend");function a(h){r.save(h),r.names=[],r.skips=[];let m;const y=(typeof h=="string"?h:"").split(/[\s,]+/),v=y.length;for(m=0;m<v;m++)y[m]&&(h=y[m].replace(/\*/g,".*?"),h[0]==="-"?r.skips.push(new RegExp("^"+h.substr(1)+"$")):r.names.push(new RegExp("^"+h+"$")))}o(a,"enable");function c(){const h=[...r.names.map(g),...r.skips.map(g).map(m=>"-"+m)].join(",");return r.enable(""),h}o(c,"disable");function f(h){if(h[h.length-1]==="*")return!0;let m,y;for(m=0,y=r.skips.length;m<y;m++)if(r.skips[m].test(h))return!1;for(m=0,y=r.names.length;m<y;m++)if(r.names[m].test(h))return!0;return!1}o(f,"enabled");function g(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}o(g,"toNamespace");function u(h){return h instanceof Error?h.stack||h.message:h}o(u,"coerce");function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(p,"destroy"),r.enable(r.load()),r}o(bs,"setup");var ws=bs,N=Ye(function(e,t){t.formatArgs=i,t.save=a,t.load=c,t.useColors=r,t.storage=f(),t.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}o(r,"useColors");function i(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const p="color: "+this.color;u.splice(1,0,p,"color: inherit");let h=0,m=0;u[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(h++,y==="%c"&&(m=h))}),u.splice(m,0,p)}o(i,"formatArgs"),t.log=console.debug||console.log||(()=>{});function a(u){try{u?t.storage.setItem("debug",u):t.storage.removeItem("debug")}catch{}}o(a,"save");function c(){let u;try{u=t.storage.getItem("debug")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u={}.DEBUG),u}o(c,"load");function f(){try{return localStorage}catch{}}o(f,"localstorage"),e.exports=ws(t);const{formatters:g}=e.exports;g.j=function(u){try{return JSON.stringify(u)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}}});N.formatArgs;N.save;N.load;N.useColors;N.storage;N.destroy;N.colors;N.log;let en,Ge="default",dt="";const ht=o(()=>{en=N(dt?`fetch-mock:${Ge}:${dt}`:`fetch-mock:${Ge}`)},"newDebug"),vs=o(e=>N(`fetch-mock:${Ge}:${e}`),"newDebugSandbox");ht();var pe={debug:(...e)=>{en(...e)},setDebugNamespace:e=>{dt=e,ht()},setDebugPhase:e=>{Ge=e||"default",ht()},getDebug:e=>vs(e)};const{debug:Cs,setDebugPhase:tn}=pe,L={};L.mock=function(...e){return tn("setup"),e.length&&this.addRoute(e),this._mock()};L.addRoute=function(e){Cs("Adding route",e);const t=this.compileRoute(e),r=this.routes.filter(({identifier:i,method:a})=>(typeof i=="function"?i===t.identifier:String(i)===String(t.identifier))&&(!a||!t.method||a===t.method));if(this.getOption("overwriteRoutes",t)===!1||!r.length)return this._uncompiledRoutes.push(e),this.routes.push(t);if(this.getOption("overwriteRoutes",t)===!0)return r.forEach(i=>{const a=this.routes.indexOf(i);this._uncompiledRoutes.splice(a,1,e),this.routes.splice(a,1,t)}),this.routes;if(r.length)throw new Error("fetch-mock: Adding route with same name or matcher as existing route. See `overwriteRoutes` option.");this._uncompiledRoutes.push(e),this.routes.push(t)};L._mock=function(){return this.isSandbox||(this.realFetch=this.realFetch||this.global.fetch,this.global.fetch=this.fetchHandler),tn(),this};L.catch=function(e){return this.fallbackResponse&&console.warn("calling fetchMock.catch() twice - are you sure you want to overwrite the previous fallback response"),this.fallbackResponse=e||"ok",this._mock()};L.spy=function(e){return this._mock(),e?this.mock(e,this.getNativeFetch()):this.catch(this.getNativeFetch())};const We=o((e,t,r)=>{L[e]=function(i,a,c){return this[t](i,a,Object.assign(c||{},r))}},"defineShorthand"),Je=o((e,t)=>{L[e]=function(r,i){return this[t]({},r,i)}},"defineGreedyShorthand");We("sticky","mock",{sticky:!0});We("once","mock",{repeat:1});Je("any","mock");Je("anyOnce","once");["get","post","put","delete","head","patch"].forEach(e=>{We(e,"mock",{method:e}),We(`${e}Once`,"once",{method:e}),Je(`${e}Any`,e),Je(`${e}AnyOnce`,`${e}Once`)});const _s=o(e=>{typeof e=="function"&&(console.warn("Deprecated: Passing fetch-mock reset methods\ndirectly in as handlers for before/after test runner hooks.\nWrap in an arrow function instead e.g. `() => fetchMock.restore()`"),e())},"mochaAsyncHookWorkaround"),Rs=o(({sticky:e})=>t=>e?[]:t.filter(({sticky:r})=>r),"getRouteRemover");L.resetBehavior=function(e={}){_s(e);const t=Rs(e);return this.routes=t(this.routes),this._uncompiledRoutes=t(this._uncompiledRoutes),this.realFetch&&!this.routes.length&&(this.global.fetch=this.realFetch,this.realFetch=void 0),this.fallbackResponse=void 0,this};L.resetHistory=function(){return this._calls=[],this._holdingPromises=[],this.routes.forEach(e=>e.reset&&e.reset()),this};L.restore=L.reset=function(e){return this.resetBehavior(e),this.resetHistory(),this};var Ts=L;const{getDebug:Fs}=pe,zt=["body","headers","throws","status","redirectUrl"];class nn{constructor(t){this.debug=Fs("ResponseBuilder()"),this.debug("Response builder created with options",t),Object.assign(this,t)}exec(){this.debug("building response"),this.normalizeResponseConfig(),this.constructFetchOpts(),this.constructResponseBody();const t=new this.fetchMock.config.Response(this.body,this.options),r=this.buildObservableResponse(t);return[t,r]}sendAsObject(){return zt.some(t=>this.responseConfig[t])?!Object.keys(this.responseConfig).every(t=>zt.includes(t)):!0}normalizeResponseConfig(){typeof this.responseConfig=="number"?(this.debug("building response using status",this.responseConfig),this.responseConfig={status:this.responseConfig}):(typeof this.responseConfig=="string"||this.sendAsObject())&&(this.debug("building text response from",this.responseConfig),this.responseConfig={body:this.responseConfig})}validateStatus(t){if(!t)return this.debug("No status provided. Defaulting to 200"),200;if(typeof t=="number"&&parseInt(t,10)!==t&&t>=200||t<600)return this.debug("Valid status provided",t),t;throw new TypeError(`fetch-mock: Invalid status ${t} passed on response object.
To respond with a JSON object that has status as a property assign the object to body
e.g. {"body": {"status: "registered"}}`)}constructFetchOpts(){this.options=this.responseConfig.options||{},this.options.url=this.responseConfig.redirectUrl||this.url,this.options.status=this.validateStatus(this.responseConfig.status),this.options.statusText=this.fetchMock.statusTextMap[String(this.options.status)],this.options.headers=new this.fetchMock.config.Headers(this.responseConfig.headers||{})}getOption(t){return this.fetchMock.getOption(t,this.route)}convertToJson(){this.getOption("sendAsJson")&&this.responseConfig.body!=null&&typeof this.body=="object"&&(this.debug("Stringifying JSON response body"),this.body=JSON.stringify(this.body),this.options.headers.has("Content-Type")||this.options.headers.set("Content-Type","application/json"))}setContentLength(){this.getOption("includeContentLength")&&typeof this.body=="string"&&!this.options.headers.has("Content-Length")&&(this.debug("Setting content-length header:",this.body.length.toString()),this.options.headers.set("Content-Length",this.body.length.toString()))}constructResponseBody(){if(this.body=this.responseConfig.body,this.convertToJson(),this.setContentLength(),this.Stream){this.debug("Creating response stream");const t=new this.Stream.Readable;this.body!=null&&t.push(this.body,"utf-8"),t.push(null),this.body=t}this.body=this.body}buildObservableResponse(t){const r=this.fetchMock;return t._fmResults={},this.debug("Wrapping Response in ES proxy for observability"),new Proxy(t,{get:(i,a)=>{if(this.responseConfig.redirectUrl){if(a==="url")return this.debug("Retrieving redirect url",this.responseConfig.redirectUrl),this.responseConfig.redirectUrl;if(a==="redirected")return this.debug("Retrieving redirected status",!0),!0}return typeof i[a]=="function"?(this.debug("Wrapping body promises in ES proxies for observability"),new Proxy(i[a],{apply:(c,f,g)=>{this.debug(`Calling res.${a}`);const u=c.apply(t,g);return u.then&&(r._holdingPromises.push(u.catch(()=>null)),i._fmResults[a]=u),u}})):i[a]}})}}o(nn,"ResponseBuilder");var Es=o(e=>new nn(e).exec(),"responseBuilder");let Q;const pt=new RegExp("^[a-z]+://","i"),As=new RegExp("^//","i"),Vt=o(e=>typeof e.raw=="function"?Object.entries(e.raw()):e[Symbol.iterator]?[...e]:Object.entries(e),"headersToArray"),Gt=o(e=>e.reduce((t,[r,i])=>Object.assign(t,{[r]:i}),{}),"zipObject"),ft=o(e=>{if(typeof e=="function"||e instanceof RegExp||/^(begin|end|glob|express|path)\:/.test(e))return e;if(pt.test(e))return new Q(e).href;if(As.test(e))return new Q(e,"http://dummy").href;{const t=new Q(e,"http://dummy");return t.pathname+t.search}},"normalizeUrl"),xs=o(async e=>{try{return"body"in e?e.body.toString():e.clone().text()}catch{}},"extractBody");var Ze={setUrlImplementation:e=>{Q=e},normalizeRequest:(e,t,r)=>{if(r.prototype.isPrototypeOf(e)){const i={method:e.method},a=xs(e);typeof a<"u"&&(i.body=a);const c={url:ft(e.url),options:Object.assign(i,t),request:e,signal:t&&t.signal||e.signal},f=Vt(e.headers);return f.length&&(c.options.headers=Gt(f)),c}else{if(typeof e=="string"||typeof e=="object"&&"href"in e)return{url:ft(e),options:t,signal:t&&t.signal};throw typeof e=="object"?new TypeError("fetch-mock: Unrecognised Request object. Read the Config and Installation sections of the docs"):new TypeError("fetch-mock: Invalid arguments passed to fetch")}},normalizeUrl:ft,getPath:e=>(pt.test(e)?new Q(e):new Q(e,"http://dummy")).pathname,getQuery:e=>{const t=pt.test(e)?new Q(e):new Q(e,"http://dummy");return t.search?t.search.substr(1):""},headers:{normalize:e=>Gt(Vt(e)),toLowerCase:e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{}),equal:(e,t)=>(e=Array.isArray(e)?e:[e],t=Array.isArray(t)?t:[t],e.length!==t.length?!1:e.every((r,i)=>r===t[i]))}};const{debug:Oe,setDebugPhase:rn,getDebug:Qe}=pe,k={};class sn extends Error{constructor(){super(...arguments),this.name="AbortError",this.message="The operation was aborted.",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}o(sn,"AbortError");const Ss=o(e=>typeof navigator>"u"||!navigator.vendor||navigator.vendor!=="Apple Computer, Inc."?e:async t=>{const{method:r}=t;if(!["POST","PUT","PATCH"].includes(r))return e(t);const i=await t.clone().text(),{cache:a,credentials:c,headers:f,integrity:g,mode:u,redirect:p,referrer:h}=t,m={body:i,cache:a,credentials:c,headers:f,integrity:g,mode:u,redirect:p,referrer:h,method:r};return e(t.url,m)},"patchNativeFetchForSafari"),Os=o(async({response:e,responseIsFetch:t=!1},r,i,a)=>{const c=Qe("resolve()");for(c("Recursively resolving function and promise responses");;)if(typeof e=="function"){if(c("  Response is a function"),t)return a?(c("  -> Calling fetch with Request instance"),e(a)):(c("  -> Calling fetch with url and options"),e(r,i));c("  -> Calling response function"),e=e(r,i,a)}else if(typeof e.then=="function")c("  Response is a promise"),c("  -> Resolving promise"),e=await e;else return c("  Response is not a function or a promise"),c("  -> Exiting response resolution recursion"),e},"resolve");k.needsAsyncBodyExtraction=function({request:e}){return e&&this.routes.some(({usesBody:t})=>t)};k.fetchHandler=function(e,t){rn("handle");const r=Qe("fetchHandler()");r("fetch called with:",e,t);const i=Ze.normalizeRequest(e,t,this.config.Request);return r("Request normalised"),r("  url",i.url),r("  options",i.options),r("  request",i.request),r("  signal",i.signal),this.needsAsyncBodyExtraction(i)?(r("Need to wait for Body to be streamed before calling router: switching to async mode"),this._extractBodyThenHandle(i)):this._fetchHandler(i)};k._extractBodyThenHandle=async function(e){return e.options.body=await e.options.body,this._fetchHandler(e)};k._fetchHandler=function({url:e,options:t,request:r,signal:i}){const{route:a,callLog:c}=this.executeRouter(e,t,r);this.recordCall(c);let f;return this._holdingPromises.push(new this.config.Promise(g=>f=g)),new this.config.Promise((g,u)=>{if(i){Oe("signal exists - enabling fetch abort");const p=o(()=>{Oe("aborting fetch"),u(typeof DOMException<"u"?new DOMException("The operation was aborted.","AbortError"):new sn),f()},"abort");i.aborted&&(Oe("signal is already aborted - aborting the fetch"),p()),i.addEventListener("abort",p)}this.generateResponse({route:a,url:e,options:t,request:r,callLog:c}).then(g,u).then(f,f).then(()=>{rn()})})};k.fetchHandler.isMock=!0;k.executeRouter=function(e,t,r){const i=Qe("executeRouter()"),a={url:e,options:t,request:r,isUnmatched:!0};if(i("Attempting to match request to a route"),this.getOption("fallbackToNetwork")==="always")return i("  Configured with fallbackToNetwork=always - passing through to fetch"),{route:{response:this.getNativeFetch(),responseIsFetch:!0}};const c=this.router(e,t,r);if(c)return i("  Matching route found"),{route:c,callLog:{url:e,options:t,request:r,identifier:c.identifier}};if(this.getOption("warnOnFallback")&&console.warn(`Unmatched ${t&&t.method||"GET"} to ${e}`),this.fallbackResponse)return i("  No matching route found - using fallbackResponse"),{route:{response:this.fallbackResponse},callLog:a};if(!this.getOption("fallbackToNetwork"))throw new Error(`fetch-mock: No fallback response defined for ${t&&t.method||"GET"} to ${e}`);return i("  Configured to fallbackToNetwork - passing through to fetch"),{route:{response:this.getNativeFetch(),responseIsFetch:!0},callLog:a}};k.generateResponse=async function({route:e,url:t,options:r,request:i,callLog:a={}}){const c=Qe("generateResponse()"),f=await Os(e,t,r,i);if(f.throws&&typeof f!="function")throw c("response.throws is defined - throwing an error"),f.throws;if(this.config.Response.prototype.isPrototypeOf(f))return c("response is already a Response instance - returning it"),a.response=f,f;const[g,u]=Es({url:t,responseConfig:f,fetchMock:this,route:e});return a.response=g,u};k.router=function(e,t,r){const i=this.routes.find((a,c)=>(Oe(`Trying to match route ${c}`),a.matcher(e,t,r)));if(i)return i};k.getNativeFetch=function(){const e=this.realFetch||this.isSandbox&&this.config.fetch;if(!e)throw new Error("fetch-mock: Falling back to network only available on global fetch-mock, or by setting config.fetch on sandboxed fetch-mock");return Ss(e)};k.recordCall=function(e){Oe("Recording fetch call",e),e&&this._calls.push(e)};var Ms=k,Hs=o(function(e,t){if(typeof e!="string")throw new TypeError("Expected a string");for(var r=String(e),i="",a=t?!!t.extended:!1,c=t?!!t.globstar:!1,f=!1,g=t&&typeof t.flags=="string"?t.flags:"",u,p=0,h=r.length;p<h;p++)switch(u=r[p],u){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":i+="\\"+u;break;case"?":if(a){i+=".";break}case"[":case"]":if(a){i+=u;break}case"{":if(a){f=!0,i+="(";break}case"}":if(a){f=!1,i+=")";break}case",":if(f){i+="|";break}i+="\\"+u;break;case"*":for(var m=r[p-1],y=1;r[p+1]==="*";)y++,p++;var v=r[p+1];if(!c)i+=".*";else{var T=y>1&&(m==="/"||m===void 0)&&(v==="/"||v===void 0);T?(i+="((?:[^/]*(?:/|$))*)",p++):i+="([^/]*)"}break;default:i+=u}return(!g||!~g.indexOf("g"))&&(i="^"+i+"$"),new RegExp(i,g)},"globToRegexp"),_e=fn,Is=mt,$s=Ns,Ps=cn,Ls=un,on="/",an="./",Us=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function mt(e,t){for(var r=[],i=0,a=0,c="",f=t&&t.delimiter||on,g=t&&t.delimiters||an,u=!1,p;(p=Us.exec(e))!==null;){var h=p[0],m=p[1],y=p.index;if(c+=e.slice(a,y),a=y+h.length,m){c+=m[1],u=!0;continue}var v="",T=e[a],H=p[2],B=p[3],Re=p[4],S=p[5];if(!u&&c.length){var re=c.length-1;g.indexOf(c[re])>-1&&(v=c[re],c=c.slice(0,re))}c&&(r.push(c),c="",u=!1);var se=v!==""&&T!==void 0&&T!==v,me=S==="+"||S==="*",z=S==="?"||S==="*",ie=v||f,He=B||Re;r.push({name:H||i++,prefix:v,delimiter:ie,optional:z,repeat:me,partial:se,pattern:He?ks(He):"[^"+Z(ie)+"]+?"})}return(c||a<e.length)&&r.push(c+e.substr(a)),r}o(mt,"parse$1");function Ns(e,t){return cn(mt(e,t))}o(Ns,"compile");function cn(e){for(var t=new Array(e.length),r=0;r<e.length;r++)typeof e[r]=="object"&&(t[r]=new RegExp("^(?:"+e[r].pattern+")$"));return function(i,a){for(var c="",f=a&&a.encode||encodeURIComponent,g=0;g<e.length;g++){var u=e[g];if(typeof u=="string"){c+=u;continue}var p=i?i[u.name]:void 0,h;if(Array.isArray(p)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but got array');if(p.length===0){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var m=0;m<p.length;m++){if(h=f(p[m],u),!t[g].test(h))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'"');c+=(m===0?u.prefix:u.delimiter)+h}continue}if(typeof p=="string"||typeof p=="number"||typeof p=="boolean"){if(h=f(String(p),u),!t[g].test(h))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but got "'+h+'"');c+=u.prefix+h;continue}if(u.optional){u.partial&&(c+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be '+(u.repeat?"an array":"a string"))}return c}}o(cn,"tokensToFunction");function Z(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}o(Z,"escapeString");function ks(e){return e.replace(/([=!:$/()])/g,"\\$1")}o(ks,"escapeGroup");function ln(e){return e&&e.sensitive?"":"i"}o(ln,"flags");function qs(e,t){if(!t)return e;var r=e.source.match(/\((?!\?)/g);if(r)for(var i=0;i<r.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return e}o(qs,"regexpToRegexp");function js(e,t,r){for(var i=[],a=0;a<e.length;a++)i.push(fn(e[a],t,r).source);return new RegExp("(?:"+i.join("|")+")",ln(r))}o(js,"arrayToRegexp");function Ds(e,t,r){return un(mt(e,r),t,r)}o(Ds,"stringToRegexp");function un(e,t,r){r=r||{};for(var i=r.strict,a=r.start!==!1,c=r.end!==!1,f=Z(r.delimiter||on),g=r.delimiters||an,u=[].concat(r.endsWith||[]).map(Z).concat("$").join("|"),p=a?"^":"",h=e.length===0,m=0;m<e.length;m++){var y=e[m];if(typeof y=="string")p+=Z(y),h=m===e.length-1&&g.indexOf(y[y.length-1])>-1;else{var v=y.repeat?"(?:"+y.pattern+")(?:"+Z(y.delimiter)+"(?:"+y.pattern+"))*":y.pattern;t&&t.push(y),y.optional?y.partial?p+=Z(y.prefix)+"("+v+")?":p+="(?:"+Z(y.prefix)+"("+v+"))?":p+=Z(y.prefix)+"("+v+")"}}return c?(i||(p+="(?:"+f+")?"),p+=u==="$"?"$":"(?="+u+")"):(i||(p+="(?:"+f+"(?="+u+"))?"),h||(p+="(?="+f+"|"+u+")")),new RegExp(p,ln(r))}o(un,"tokensToRegExp");function fn(e,t,r){return e instanceof RegExp?qs(e,t):Array.isArray(e)?js(e,t,r):Ds(e,t,r)}o(fn,"pathToRegexp");_e.parse=Is;_e.compile=$s;_e.tokensToFunction=Ps;_e.tokensToRegExp=Ls;function Bs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}o(Bs,"hasOwnProperty");var zs=o(function(e,t,r,i){t=t||"&",r=r||"=";var a={};if(typeof e!="string"||e.length===0)return a;var c=/\+/g;e=e.split(t);var f=1e3;i&&typeof i.maxKeys=="number"&&(f=i.maxKeys);var g=e.length;f>0&&g>f&&(g=f);for(var u=0;u<g;++u){var p=e[u].replace(c,"%20"),h=p.indexOf(r),m,y,v,T;h>=0?(m=p.substr(0,h),y=p.substr(h+1)):(m=p,y=""),v=decodeURIComponent(m),T=decodeURIComponent(y),Bs(a,v)?Array.isArray(a[v])?a[v].push(T):a[v]=[a[v],T]:a[v]=T}return a},"decode"),xe=o(function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},"stringifyPrimitive"),Vs=o(function(e,t,r,i){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(a){var c=encodeURIComponent(xe(a))+r;return Array.isArray(e[a])?e[a].map(function(f){return c+encodeURIComponent(xe(f))}).join(t):c+encodeURIComponent(xe(e[a]))}).join(t):i?encodeURIComponent(xe(i))+r+encodeURIComponent(xe(e)):""},"encode"),fe=Ye(function(e,t){t.decode=t.parse=zs,t.encode=t.stringify=Vs});fe.decode;fe.parse;fe.encode;fe.stringify;var dn=Ye(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(i){function a(c,f){return i.apply(this,arguments)}return o(a,"isSubset"),a.toString=function(){return i.toString()},a}(function(i,a){return typeof i!="object"||i===null||typeof a!="object"||a===null?!1:Object.keys(a).every(function(c){if(!i.propertyIsEnumerable(c))return!1;var f=a[c],g=i[c];return!(typeof f=="object"&&f!==null?!r(g,f):g!==f)})});t.default=r,e.exports=t.default});fs(dn);var hn=Ye(function(e,t){var r=200,i="__lodash_hash_undefined__",a=1,c=2,f=9007199254740991,g="[object Arguments]",u="[object Array]",p="[object AsyncFunction]",h="[object Boolean]",m="[object Date]",y="[object Error]",v="[object Function]",T="[object GeneratorFunction]",H="[object Map]",B="[object Number]",Re="[object Null]",S="[object Object]",re="[object Promise]",se="[object Proxy]",me="[object RegExp]",z="[object Set]",ie="[object String]",He="[object Symbol]",mn="[object Undefined]",tt="[object WeakMap]",bt="[object ArrayBuffer]",Ie="[object DataView]",yn="[object Float32Array]",bn="[object Float64Array]",wn="[object Int8Array]",vn="[object Int16Array]",Cn="[object Int32Array]",_n="[object Uint8Array]",Rn="[object Uint8ClampedArray]",Tn="[object Uint16Array]",Fn="[object Uint32Array]",En=/[\\^$.*+?()[\]{}|]/g,An=/^\[object .+?Constructor\]$/,xn=/^(?:0|[1-9]\d*)$/,_={};_[yn]=_[bn]=_[wn]=_[vn]=_[Cn]=_[_n]=_[Rn]=_[Tn]=_[Fn]=!0,_[g]=_[u]=_[bt]=_[h]=_[Ie]=_[m]=_[y]=_[v]=_[H]=_[B]=_[S]=_[me]=_[z]=_[ie]=_[tt]=!1;var wt=typeof De=="object"&&De&&De.Object===Object&&De,Sn=typeof self=="object"&&self&&self.Object===Object&&self,V=wt||Sn||Function("return this")(),vt=t&&!t.nodeType&&t,Ct=vt&&!0&&e&&!e.nodeType&&e,_t=Ct&&Ct.exports===vt,nt=_t&&wt.process,Rt=function(){try{return nt&&nt.binding&&nt.binding("util")}catch{}}(),Tt=Rt&&Rt.isTypedArray;function On(n,s){for(var l=-1,d=n==null?0:n.length,R=0,w=[];++l<d;){var E=n[l];s(E,l,n)&&(w[R++]=E)}return w}o(On,"arrayFilter");function Mn(n,s){for(var l=-1,d=s.length,R=n.length;++l<d;)n[R+l]=s[l];return n}o(Mn,"arrayPush");function Hn(n,s){for(var l=-1,d=n==null?0:n.length;++l<d;)if(s(n[l],l,n))return!0;return!1}o(Hn,"arraySome");function In(n,s){for(var l=-1,d=Array(n);++l<n;)d[l]=s(l);return d}o(In,"baseTimes");function $n(n){return function(s){return n(s)}}o($n,"baseUnary");function Pn(n,s){return n.has(s)}o(Pn,"cacheHas");function Ln(n,s){return n==null?void 0:n[s]}o(Ln,"getValue");function Un(n){var s=-1,l=Array(n.size);return n.forEach(function(d,R){l[++s]=[R,d]}),l}o(Un,"mapToArray");function Nn(n,s){return function(l){return n(s(l))}}o(Nn,"overArg");function kn(n){var s=-1,l=Array(n.size);return n.forEach(function(d){l[++s]=d}),l}o(kn,"setToArray");var qn=Array.prototype,jn=Function.prototype,$e=Object.prototype,rt=V["__core-js_shared__"],Ft=jn.toString,q=$e.hasOwnProperty,Et=function(){var n=/[^.]+$/.exec(rt&&rt.keys&&rt.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),At=$e.toString,Dn=RegExp("^"+Ft.call(q).replace(En,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xt=_t?V.Buffer:void 0,Pe=V.Symbol,St=V.Uint8Array,Ot=$e.propertyIsEnumerable,Bn=qn.splice,oe=Pe?Pe.toStringTag:void 0,Mt=Object.getOwnPropertySymbols,zn=xt?xt.isBuffer:void 0,Vn=Nn(Object.keys,Object),st=ye(V,"DataView"),Te=ye(V,"Map"),it=ye(V,"Promise"),ot=ye(V,"Set"),at=ye(V,"WeakMap"),Fe=ye(Object,"create"),Gn=le(st),Wn=le(Te),Jn=le(it),Kn=le(ot),Xn=le(at),Ht=Pe?Pe.prototype:void 0,ct=Ht?Ht.valueOf:void 0;function ae(n){var s=-1,l=n==null?0:n.length;for(this.clear();++s<l;){var d=n[s];this.set(d[0],d[1])}}o(ae,"Hash");function Yn(){this.__data__=Fe?Fe(null):{},this.size=0}o(Yn,"hashClear");function Zn(n){var s=this.has(n)&&delete this.__data__[n];return this.size-=s?1:0,s}o(Zn,"hashDelete");function Qn(n){var s=this.__data__;if(Fe){var l=s[n];return l===i?void 0:l}return q.call(s,n)?s[n]:void 0}o(Qn,"hashGet");function er(n){var s=this.__data__;return Fe?s[n]!==void 0:q.call(s,n)}o(er,"hashHas");function tr(n,s){var l=this.__data__;return this.size+=this.has(n)?0:1,l[n]=Fe&&s===void 0?i:s,this}o(tr,"hashSet"),ae.prototype.clear=Yn,ae.prototype.delete=Zn,ae.prototype.get=Qn,ae.prototype.has=er,ae.prototype.set=tr;function G(n){var s=-1,l=n==null?0:n.length;for(this.clear();++s<l;){var d=n[s];this.set(d[0],d[1])}}o(G,"ListCache");function nr(){this.__data__=[],this.size=0}o(nr,"listCacheClear");function rr(n){var s=this.__data__,l=Ue(s,n);if(l<0)return!1;var d=s.length-1;return l==d?s.pop():Bn.call(s,l,1),--this.size,!0}o(rr,"listCacheDelete");function sr(n){var s=this.__data__,l=Ue(s,n);return l<0?void 0:s[l][1]}o(sr,"listCacheGet");function ir(n){return Ue(this.__data__,n)>-1}o(ir,"listCacheHas");function or(n,s){var l=this.__data__,d=Ue(l,n);return d<0?(++this.size,l.push([n,s])):l[d][1]=s,this}o(or,"listCacheSet"),G.prototype.clear=nr,G.prototype.delete=rr,G.prototype.get=sr,G.prototype.has=ir,G.prototype.set=or;function ce(n){var s=-1,l=n==null?0:n.length;for(this.clear();++s<l;){var d=n[s];this.set(d[0],d[1])}}o(ce,"MapCache");function ar(){this.size=0,this.__data__={hash:new ae,map:new(Te||G),string:new ae}}o(ar,"mapCacheClear");function cr(n){var s=Ne(this,n).delete(n);return this.size-=s?1:0,s}o(cr,"mapCacheDelete");function lr(n){return Ne(this,n).get(n)}o(lr,"mapCacheGet");function ur(n){return Ne(this,n).has(n)}o(ur,"mapCacheHas");function fr(n,s){var l=Ne(this,n),d=l.size;return l.set(n,s),this.size+=l.size==d?0:1,this}o(fr,"mapCacheSet"),ce.prototype.clear=ar,ce.prototype.delete=cr,ce.prototype.get=lr,ce.prototype.has=ur,ce.prototype.set=fr;function Le(n){var s=-1,l=n==null?0:n.length;for(this.__data__=new ce;++s<l;)this.add(n[s])}o(Le,"SetCache");function dr(n){return this.__data__.set(n,i),this}o(dr,"setCacheAdd");function hr(n){return this.__data__.has(n)}o(hr,"setCacheHas"),Le.prototype.add=Le.prototype.push=dr,Le.prototype.has=hr;function K(n){var s=this.__data__=new G(n);this.size=s.size}o(K,"Stack");function pr(){this.__data__=new G,this.size=0}o(pr,"stackClear");function gr(n){var s=this.__data__,l=s.delete(n);return this.size=s.size,l}o(gr,"stackDelete");function mr(n){return this.__data__.get(n)}o(mr,"stackGet");function yr(n){return this.__data__.has(n)}o(yr,"stackHas");function br(n,s){var l=this.__data__;if(l instanceof G){var d=l.__data__;if(!Te||d.length<r-1)return d.push([n,s]),this.size=++l.size,this;l=this.__data__=new ce(d)}return l.set(n,s),this.size=l.size,this}o(br,"stackSet"),K.prototype.clear=pr,K.prototype.delete=gr,K.prototype.get=mr,K.prototype.has=yr,K.prototype.set=br;function wr(n,s){var l=ke(n),d=!l&&$r(n),R=!l&&!d&&lt(n),w=!l&&!d&&!R&&jt(n),E=l||d||R||w,A=E?In(n.length,String):[],x=A.length;for(var F in n)(s||q.call(n,F))&&!(E&&(F=="length"||R&&(F=="offset"||F=="parent")||w&&(F=="buffer"||F=="byteLength"||F=="byteOffset")||Sr(F,x)))&&A.push(F);return A}o(wr,"arrayLikeKeys");function Ue(n,s){for(var l=n.length;l--;)if(Ut(n[l][0],s))return l;return-1}o(Ue,"assocIndexOf");function vr(n,s,l){var d=s(n);return ke(n)?d:Mn(d,l(n))}o(vr,"baseGetAllKeys");function Ee(n){return n==null?n===void 0?mn:Re:oe&&oe in Object(n)?Ar(n):Ir(n)}o(Ee,"baseGetTag");function It(n){return Ae(n)&&Ee(n)==g}o(It,"baseIsArguments");function $t(n,s,l,d,R){return n===s?!0:n==null||s==null||!Ae(n)&&!Ae(s)?n!==n&&s!==s:Cr(n,s,l,d,$t,R)}o($t,"baseIsEqual");function Cr(n,s,l,d,R,w){var E=ke(n),A=ke(s),x=E?u:X(n),F=A?u:X(s);x=x==g?S:x,F=F==g?S:F;var I=x==S,U=F==S,O=x==F;if(O&&lt(n)){if(!lt(s))return!1;E=!0,I=!1}if(O&&!I)return w||(w=new K),E||jt(n)?Pt(n,s,l,d,R,w):Fr(n,s,x,l,d,R,w);if(!(l&a)){var $=I&&q.call(n,"__wrapped__"),P=U&&q.call(s,"__wrapped__");if($||P){var Y=$?n.value():n,W=P?s.value():s;return w||(w=new K),R(Y,W,l,d,w)}}return O?(w||(w=new K),Er(n,s,l,d,R,w)):!1}o(Cr,"baseIsEqualDeep");function _r(n){if(!qt(n)||Mr(n))return!1;var s=Nt(n)?Dn:An;return s.test(le(n))}o(_r,"baseIsNative");function Rr(n){return Ae(n)&&kt(n.length)&&!!_[Ee(n)]}o(Rr,"baseIsTypedArray");function Tr(n){if(!Hr(n))return Vn(n);var s=[];for(var l in Object(n))q.call(n,l)&&l!="constructor"&&s.push(l);return s}o(Tr,"baseKeys");function Pt(n,s,l,d,R,w){var E=l&a,A=n.length,x=s.length;if(A!=x&&!(E&&x>A))return!1;var F=w.get(n);if(F&&w.get(s))return F==s;var I=-1,U=!0,O=l&c?new Le:void 0;for(w.set(n,s),w.set(s,n);++I<A;){var $=n[I],P=s[I];if(d)var Y=E?d(P,$,I,s,n,w):d($,P,I,n,s,w);if(Y!==void 0){if(Y)continue;U=!1;break}if(O){if(!Hn(s,function(W,ue){if(!Pn(O,ue)&&($===W||R($,W,l,d,w)))return O.push(ue)})){U=!1;break}}else if(!($===P||R($,P,l,d,w))){U=!1;break}}return w.delete(n),w.delete(s),U}o(Pt,"equalArrays");function Fr(n,s,l,d,R,w,E){switch(l){case Ie:if(n.byteLength!=s.byteLength||n.byteOffset!=s.byteOffset)return!1;n=n.buffer,s=s.buffer;case bt:return!(n.byteLength!=s.byteLength||!w(new St(n),new St(s)));case h:case m:case B:return Ut(+n,+s);case y:return n.name==s.name&&n.message==s.message;case me:case ie:return n==s+"";case H:var A=Un;case z:var x=d&a;if(A||(A=kn),n.size!=s.size&&!x)return!1;var F=E.get(n);if(F)return F==s;d|=c,E.set(n,s);var I=Pt(A(n),A(s),d,R,w,E);return E.delete(n),I;case He:if(ct)return ct.call(n)==ct.call(s)}return!1}o(Fr,"equalByTag");function Er(n,s,l,d,R,w){var E=l&a,A=Lt(n),x=A.length,F=Lt(s),I=F.length;if(x!=I&&!E)return!1;for(var U=x;U--;){var O=A[U];if(!(E?O in s:q.call(s,O)))return!1}var $=w.get(n);if($&&w.get(s))return $==s;var P=!0;w.set(n,s),w.set(s,n);for(var Y=E;++U<x;){O=A[U];var W=n[O],ue=s[O];if(d)var Dt=E?d(ue,W,O,s,n,w):d(W,ue,O,n,s,w);if(!(Dt===void 0?W===ue||R(W,ue,l,d,w):Dt)){P=!1;break}Y||(Y=O=="constructor")}if(P&&!Y){var qe=n.constructor,je=s.constructor;qe!=je&&"constructor"in n&&"constructor"in s&&!(typeof qe=="function"&&qe instanceof qe&&typeof je=="function"&&je instanceof je)&&(P=!1)}return w.delete(n),w.delete(s),P}o(Er,"equalObjects");function Lt(n){return vr(n,Ur,xr)}o(Lt,"getAllKeys");function Ne(n,s){var l=n.__data__;return Or(s)?l[typeof s=="string"?"string":"hash"]:l.map}o(Ne,"getMapData");function ye(n,s){var l=Ln(n,s);return _r(l)?l:void 0}o(ye,"getNative");function Ar(n){var s=q.call(n,oe),l=n[oe];try{n[oe]=void 0;var d=!0}catch{}var R=At.call(n);return d&&(s?n[oe]=l:delete n[oe]),R}o(Ar,"getRawTag");var xr=Mt?function(n){return n==null?[]:(n=Object(n),On(Mt(n),function(s){return Ot.call(n,s)}))}:Nr,X=Ee;(st&&X(new st(new ArrayBuffer(1)))!=Ie||Te&&X(new Te)!=H||it&&X(it.resolve())!=re||ot&&X(new ot)!=z||at&&X(new at)!=tt)&&(X=o(function(n){var s=Ee(n),l=s==S?n.constructor:void 0,d=l?le(l):"";if(d)switch(d){case Gn:return Ie;case Wn:return H;case Jn:return re;case Kn:return z;case Xn:return tt}return s},"getTag"));function Sr(n,s){return s=s??f,!!s&&(typeof n=="number"||xn.test(n))&&n>-1&&n%1==0&&n<s}o(Sr,"isIndex");function Or(n){var s=typeof n;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?n!=="__proto__":n===null}o(Or,"isKeyable");function Mr(n){return!!Et&&Et in n}o(Mr,"isMasked");function Hr(n){var s=n&&n.constructor,l=typeof s=="function"&&s.prototype||$e;return n===l}o(Hr,"isPrototype");function Ir(n){return At.call(n)}o(Ir,"objectToString");function le(n){if(n!=null){try{return Ft.call(n)}catch{}try{return n+""}catch{}}return""}o(le,"toSource");function Ut(n,s){return n===s||n!==n&&s!==s}o(Ut,"eq");var $r=It(function(){return arguments}())?It:function(n){return Ae(n)&&q.call(n,"callee")&&!Ot.call(n,"callee")},ke=Array.isArray;function Pr(n){return n!=null&&kt(n.length)&&!Nt(n)}o(Pr,"isArrayLike");var lt=zn||kr;function Lr(n,s){return $t(n,s)}o(Lr,"isEqual");function Nt(n){if(!qt(n))return!1;var s=Ee(n);return s==v||s==T||s==p||s==se}o(Nt,"isFunction");function kt(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=f}o(kt,"isLength");function qt(n){var s=typeof n;return n!=null&&(s=="object"||s=="function")}o(qt,"isObject");function Ae(n){return n!=null&&typeof n=="object"}o(Ae,"isObjectLike");var jt=Tt?$n(Tt):Rr;function Ur(n){return Pr(n)?wr(n):Tr(n)}o(Ur,"keys");function Nr(){return[]}o(Nr,"stubArray");function kr(){return!1}o(kr,"stubFalse"),e.exports=Lr});const{debug:b}=pe,{headers:ze,getPath:gt,getQuery:Gs,normalizeUrl:Wt}=Ze,Se=o(e=>t=>(b("Actual url:",t),e(t)),"debuggableUrlFunc"),Jt={begin:e=>Se(t=>t.indexOf(e)===0),end:e=>Se(t=>t.substr(-e.length)===e),glob:e=>{const t=Hs(e);return Se(r=>t.test(r))},express:e=>{const t=_e(e);return Se(r=>t.test(gt(r)))},path:e=>Se(t=>gt(t)===e)},Ws=o(({headers:e})=>{if(b("Generating header matcher"),!e){b("  No header expectations defined - skipping");return}const t=ze.toLowerCase(e);return b("  Expected headers:",t),(r,{headers:i={}})=>{b("Attempting to match headers");const a=ze.toLowerCase(ze.normalize(i));return b("  Expected headers:",t),b("  Actual headers:",a),Object.keys(t).every(c=>ze.equal(a[c],t[c]))}},"getHeaderMatcher"),Js=o(({method:e})=>{if(b("Generating method matcher"),!e){b("  No method expectations defined - skipping");return}return b("  Expected method:",e),(t,{method:r})=>{b("Attempting to match method");const i=r?r.toLowerCase():"get";return b("  Expected method:",e),b("  Actual method:",i),e===i}},"getMethodMatcher"),Ks=o(({query:e})=>{if(b("Generating query parameters matcher"),!e){b("  No query parameters expectations defined - skipping");return}const t=fe.parse(fe.stringify(e));b("  Expected query parameters:",e);const r=Object.keys(t);return i=>{b("Attempting to match query parameters");const a=fe.parse(Gs(i));return b("  Expected query parameters:",t),b("  Actual query parameters:",a),r.every(c=>Array.isArray(a[c])?Array.isArray(t[c])?hn(a[c].sort(),t[c].sort()):!1:a[c]===t[c])}},"getQueryStringMatcher"),Xs=o(({params:e,url:t})=>{if(b("Generating path parameters matcher"),!e){b("  No path parameters expectations defined - skipping");return}if(!/express:/.test(t))throw new Error("fetch-mock: matching on params is only possible when using an express: matcher");b("  Expected path parameters:",e);const r=Object.keys(e),i=[],a=_e(t.replace(/^express:/,""),i);return c=>{b("Attempting to match path parameters");const f=a.exec(gt(c))||[];f.shift();const g=i.reduce((u,{name:p},h)=>f[h]?Object.assign(u,{[p]:f[h]}):u,{});return b("  Expected path parameters:",e),b("  Actual path parameters:",g),r.every(u=>g[u]===e[u])}},"getParamsMatcher"),Ys=o((e,t)=>{const r=t.getOption("matchPartialBody",e),{body:i}=e;return b("Generating body matcher"),(a,{body:c,method:f="get"})=>{if(b("Attempting to match body"),f.toLowerCase()==="get")return b("  GET request - skip matching body"),!0;let g;try{b("  Parsing request body as JSON"),g=JSON.parse(c)}catch(u){b("  Failed to parse request body as JSON",u)}return b("Expected body:",i),b("Actual body:",g),r&&b("matchPartialBody is true - checking for partial match only"),g&&(r?dn(g,i):hn(g,i))}},"getBodyMatcher"),Kt=o((e,t,r)=>{b("  Matching using full url",t);const i=Wt(t);return b("  Normalised url to:",t),e.identifier===t&&(b("  Updating route identifier to match normalized url:",t),e.identifier=i),a=>(b("Expected url:",i),b("Actual url:",a),r&&i.indexOf("?")?(b("Ignoring query string when matching url"),a.indexOf(i)===0):Wt(a)===i)},"getFullUrlMatcher"),Zs=o(({functionMatcher:e})=>(b("Detected user defined function matcher",e),(...t)=>(b("Calling function matcher with arguments",t),e(...t))),"getFunctionMatcher"),Qs=o(e=>{b("Generating url matcher");const{url:t,query:r}=e;if(t==="*")return b("  Using universal * rule to match any url"),()=>!0;if(t instanceof RegExp)return b("  Using regular expression to match url:",t),i=>t.test(i);if(t.href)return b("  Using URL object to match url",t),Kt(e,t.href,r);for(const i in Jt)if(t.indexOf(i+":")===0){b(`  Using ${i}: pattern to match url`,t);const a=t.replace(new RegExp(`^${i}:`),"");return Jt[i](a)}return Kt(e,t,r)},"getUrlMatcher");var ei=[{name:"query",matcher:Ks},{name:"method",matcher:Js},{name:"headers",matcher:Ws},{name:"params",matcher:Xs},{name:"body",matcher:Ys,usesBody:!0},{name:"functionMatcher",matcher:Zs},{name:"url",matcher:Qs}];const{debug:Xt,setDebugNamespace:Yt,getDebug:Ve}=pe,Zt=o(e=>e instanceof RegExp||typeof e=="string"||typeof e=="object"&&"href"in e,"isUrlMatcher"),ti=o(e=>typeof e=="function","isFunctionMatcher");class ee{constructor(t,r){this.fetchMock=r,Ve("compileRoute()")("Compiling route"),this.init(t),this.sanitize(),this.validate(),this.generateMatcher(),this.limit(),this.delayResponse()}validate(){if(!("response"in this))throw new Error("fetch-mock: Each route must define a response");if(!ee.registeredMatchers.some(({name:t})=>t in this))throw new Error("fetch-mock: Each route must specify some criteria for matching calls to fetch. To match all calls use '*'")}init(t){const[r,i,a={}]=t,c={};Zt(r)||ti(r)?c.matcher=r:Object.assign(c,r),typeof i<"u"&&(c.response=i),Object.assign(c,a),Object.assign(this,c)}sanitize(){const t=Ve("sanitize()");t("Sanitizing route properties"),this.method&&(t(`Converting method ${this.method} to lower case`),this.method=this.method.toLowerCase()),Zt(this.matcher)&&(t("Mock uses a url matcher",this.matcher),this.url=this.matcher,delete this.matcher),this.functionMatcher=this.matcher||this.functionMatcher,t("Setting route.identifier..."),t(`  route.name is ${this.name}`),t(`  route.url is ${this.url}`),t(`  route.functionMatcher is ${this.functionMatcher}`),this.identifier=this.name||this.url||this.functionMatcher,t(`  -> route.identifier set to ${this.identifier}`)}generateMatcher(){Yt("generateMatcher()"),Xt("Compiling matcher for route");const t=ee.registeredMatchers.map(({name:r,matcher:i,usesBody:a})=>this[r]&&{matcher:i(this,this.fetchMock),usesBody:a}).filter(r=>Boolean(r));this.usesBody=t.some(({usesBody:r})=>r),Xt("Compiled matcher for route"),Yt(),this.matcher=(r,i={},a)=>t.every(({matcher:c})=>c(r,i,a))}limit(){const t=Ve("limit()");if(t("Limiting number of requests to handle by route"),!this.repeat){t("  No `repeat` value set on route. Will match any number of requests");return}t(`  Route set to repeat ${this.repeat} times`);const r=this.matcher;let i=this.repeat;this.matcher=(a,c)=>{if(i&&r(a,c))return i--,!0},this.reset=()=>i=this.repeat}delayResponse(){const t=Ve("delayResponse()");if(t("Applying response delay settings"),this.delay){t(`  Wrapping response in delay of ${this.delay} miliseconds`);const r=this.response;this.response=()=>(t(`Delaying response by ${this.delay} miliseconds`),new Promise(i=>setTimeout(()=>i(r),this.delay)))}else t("  No delay set on route. Will respond 'immediately' (but asynchronously)")}static addMatcher(t){ee.registeredMatchers.push(t)}}o(ee,"Route");ee.registeredMatchers=[];ei.forEach(ee.addMatcher);var yt=ee;const{setDebugPhase:Ke,setDebugNamespace:Xe,debug:C}=pe,{normalizeUrl:pn}=Ze,D={},ni=o(e=>typeof e=="string"&&/^[\da-zA-Z\-]+$/.test(e),"isName"),ri=o(function(e,t={},r){return{matcher:e}=new yt([Object.assign({matcher:e,response:"ok"},t)],this),r.filter(({url:i,options:a})=>e(pn(i),a))},"filterCallsWithMatcher"),ne=o(e=>function(...t){Ke("inspect");const r=e.call(this,...t);return Ke(),r},"formatDebug"),si=o(e=>{if(!e)return;const{url:t,options:r,request:i,identifier:a,isUnmatched:c,response:f}=e,g=[t,r];return g.request=i,g.identifier=a,g.isUnmatched=c,g.response=f,g},"callObjToArray");D.filterCalls=function(e,t){C("Filtering fetch calls");let r=this._calls,i="*";return[!0,"matched"].includes(e)?(C(`Filter provided is ${e}. Returning matched calls only`),r=r.filter(({isUnmatched:a})=>!a)):[!1,"unmatched"].includes(e)?(C(`Filter provided is ${e}. Returning unmatched calls only`),r=r.filter(({isUnmatched:a})=>a)):typeof e>"u"?(C("Filter provided is undefined. Returning all calls"),r=r):ni(e)?(C("Filter provided, looks like the name of a named route. Returning only calls handled by that route"),r=r.filter(({identifier:a})=>a===e)):(i=e==="*"?"*":pn(e),this.routes.some(({identifier:a})=>a===i)&&(C(`Filter provided, ${e}, identifies a route. Returning only calls handled by that route`),r=r.filter(a=>a.identifier===i))),(t||i!=="*")&&r.length&&(typeof t=="string"&&(t={method:t}),C("Compiling filter and options to route in order to filter all calls",e),r=ri.call(this,i,t,r)),C(`Retrieved ${r.length} calls`),r.map(si)};D.calls=ne(function(e,t){return C("retrieving matching calls"),this.filterCalls(e,t)});D.lastCall=ne(function(e,t){return C("retrieving last matching call"),[...this.filterCalls(e,t)].pop()});D.lastUrl=ne(function(e,t){return C("retrieving url of last matching call"),(this.lastCall(e,t)||[])[0]});D.lastOptions=ne(function(e,t){return C("retrieving options of last matching call"),(this.lastCall(e,t)||[])[1]});D.lastResponse=ne(function(e,t){C("retrieving respose of last matching call"),console.warn(`When doing all the following:
- using node-fetch
- responding with a real network response (using spy() or fallbackToNetwork)
- using \`fetchMock.LastResponse()\`
- awaiting the body content
... the response will hang unless your source code also awaits the response body.
This is an unavoidable consequence of the nodejs implementation of streams.
`);const r=(this.lastCall(e,t)||[]).response;try{return r.clone()}catch{return Object.entries(r._fmResults).forEach(([a,c])=>{r[a]=()=>c}),r}});D.called=ne(function(e,t){return C("checking if matching call was made"),Boolean(this.filterCalls(e,t).length)});D.flush=ne(async function(e){Xe("flush"),C(`flushing all fetch calls. ${e?"":"Not "}waiting for response bodies to complete download`);const t=this._holdingPromises;this._holdingPromises=[],C(`${t.length} fetch calls to be awaited`),await Promise.all(t),C("All fetch calls have completed"),e&&this._holdingPromises.length&&(C("Awaiting all fetch bodies to download"),await this.flush(e),C("All fetch bodies have completed downloading")),Xe()});D.done=ne(function(e){Ke("inspect"),Xe("done"),C("Checking to see if expected calls have been made");let t;e&&typeof e!="boolean"?(C("Checking to see if expected calls have been made for single route:",e),t=[{identifier:e}]):(C("Checking to see if expected calls have been made for all routes"),t=this.routes);const r=t.map(({identifier:i})=>{if(!this.called(i))return C("No calls made for route:",i),console.warn(`Warning: ${i} not called`),!1;const a=(this.routes.find(f=>f.identifier===i)||{}).repeat;if(!a)return C("Route has been called at least once, and no expectation of more set:",i),!0;const c=this.filterCalls(i).length;return C(`Route called ${c} times:`,i),a>c?(C(`Route called ${c} times, but expected ${a}:`,i),console.warn(`Warning: ${i} only called ${c} times, but ${a} expected`),!1):!0}).every(i=>i);return Xe(),Ke(),r});var ii=D;const{debug:gn}=pe,M=Object.assign({},Ms,Ts,ii);M.addMatcher=function(e){yt.addMatcher(e)};M.config={fallbackToNetwork:!1,includeContentLength:!0,sendAsJson:!0,warnOnFallback:!0,overwriteRoutes:void 0};M.createInstance=function(){gn("Creating fetch-mock instance");const e=Object.create(M);return e._uncompiledRoutes=(this._uncompiledRoutes||[]).slice(),e.routes=e._uncompiledRoutes.map(t=>this.compileRoute(t)),e.fallbackResponse=this.fallbackResponse||void 0,e.config=Object.assign({},this.config||M.config),e._calls=[],e._holdingPromises=[],e.bindMethods(),e};M.compileRoute=function(e){return new yt(e,this)};M.bindMethods=function(){this.fetchHandler=M.fetchHandler.bind(this),this.reset=this.restore=M.reset.bind(this),this.resetHistory=M.resetHistory.bind(this),this.resetBehavior=M.resetBehavior.bind(this)};M.sandbox=function(){gn("Creating sandboxed fetch-mock instance");const t=Object.assign(o((r,i)=>t.fetchHandler(r,i),"fetchMockProxy"),M,this.createInstance(),{Headers:this.config.Headers,Request:this.config.Request,Response:this.config.Response});return t.bindMethods(),t.isSandbox=!0,t.default=t,t};M.getOption=function(e,t={}){return e in t?t[e]:this.config[e]};var Me=M;const oi={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};var ai=oi;const be=typeof window<"u"?window:self,{setUrlImplementation:ci}=Ze;ci(be.URL);Me.global=be;Me.statusTextMap=ai;Me.config=Object.assign(Me.config,{Promise:be.Promise,Request:be.Request,Response:be.Response,Headers:be.Headers});var ge=Me.createInstance();const et=[{author:"John Doe",created:"06/04/2021 16:23",message:"Ut molestiae aliquam tenetur est veritatis dolorum tempora. Eaque similique et qui ea consequatur illum dignissimos. Ullam qui vel qui quo. Ea dolor quasi quibusdam quia illum sunt aspernatur. Eveniet odio quos ad."},{author:"Alice Smith",created:"03/04/2021 16:23",message:`Nulla natus dolores dolor. Voluptatem numquam doloribus architecto non praesentium.
Sit facilis vitae sapiente. Placeat est qui et.`},{author:"Bob Martin",created:"01/04/2021 08:23",message:`Corrupti <strong>reiciendis</strong> laboriosam repellat adipisci quis.

Iure omnis cum nihil accusantium ut doloribus nisi. Ut itaque suscipit et nulla iste enim. Assumenda quis et ullam temporibus quidem rerum nostrum. Rerum debitis quae qui ea molestiae animi minus optio.`},{author:"John Doe",created:"28/03/2021 10:00",message:""}],pi=o(()=>(ge.restore().mock("/test",[]),{components:{HistoryViewer:te},template:'<HistoryViewer url="/test"/>'}),"NoHistory"),gi=o(()=>(ge.restore().mock("/test",404),{components:{HistoryViewer:te},template:'<HistoryViewer url="/test"/>'}),"HttpError"),mi=o(()=>(ge.restore().mock("/test",{throws:new Error("Some network error")}),{components:{HistoryViewer:te},template:'<HistoryViewer url="/test"/>'}),"Exception"),yi=o(()=>(ge.restore().mock("/test",et),{components:{HistoryViewer:te},template:'<HistoryViewer url="/test"/>'}),"WithHistory"),bi=o(()=>(ge.restore().mock("/test?tags=foo",et),{components:{HistoryViewer:te},template:'<HistoryViewer url="/test" tags="foo"/>'}),"FilteringOnTag"),wi=o(()=>(ge.restore().mock("/test",et),{components:{HistoryViewer:te},template:`<HistoryViewer url="/test" :modes="['horizontal']"/>`}),"OnlyOneMode"),vi=o(()=>(ge.restore().mock("/test",et),{components:{HistoryViewer:te},template:`<HistoryViewer url="/test" :modes="['horizontal', 'vertical']" default-mode="vertical"/>`}),"TwoModesWithDefault"),Ci={parameters:{storySource:{source:`/*
 *
 *   OSIS stands for Open Student Information System. It's an application
 *   designed to manage the core business of higher education institutions,
 *   such as universities, faculties, institutes and professional schools.
 *   The core business involves the administration of students, teachers,
 *   courses, programs and so on.
 *
 *   Copyright (C) 2015-2021 Université catholique de Louvain (http://www.uclouvain.be)
 *
 *   This program is free software: you can redistribute it and/or modify
 *   it under the terms of the GNU General Public License as published by
 *   the Free Software Foundation, either version 3 of the License, or
 *   (at your option) any later version.
 *
 *   This program is distributed in the hope that it will be useful,
 *   but WITHOUT ANY WARRANTY; without even the implied warranty of
 *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *   GNU General Public License for more details.
 *
 *   A copy of this license - GNU General Public License - is available
 *   at the root of the source code of this program.  If not,
 *   see http://www.gnu.org/licenses/.
 *
 */

import HistoryViewer from './HistoryViewer.vue';
import fetchMock from 'fetch-mock';
import type {Meta, StoryFn} from "@storybook/vue3";

const mockEntries = [{
  author: 'John Doe',
  created: '06/04/2021 16:23',
  message: 'Ut molestiae aliquam tenetur est veritatis dolorum tempora. Eaque similique et qui ea consequatur illum dignissimos. Ullam qui vel qui quo. Ea dolor quasi quibusdam quia illum sunt aspernatur. Eveniet odio quos ad.',
}, {
  author: 'Alice Smith',
  created: '03/04/2021 16:23',
  message: 'Nulla natus dolores dolor. Voluptatem numquam doloribus architecto non praesentium.\\nSit facilis vitae sapiente. Placeat est qui et.',
}, {
  author: 'Bob Martin',
  created: '01/04/2021 08:23',
  message: 'Corrupti <strong>reiciendis</strong> laboriosam repellat adipisci quis.\\n\\nIure omnis cum nihil accusantium ut doloribus nisi. Ut itaque suscipit et nulla iste enim. Assumenda quis et ullam temporibus quidem rerum nostrum. Rerum debitis quae qui ea molestiae animi minus optio.',
}, {
  author: 'John Doe',
  created: '28/03/2021 10:00',
  message: '',
}];

export const NoHistory : StoryFn<typeof HistoryViewer> = () => {
  fetchMock.restore().mock('/test', []);
  return {
    components: { HistoryViewer },
    template: '<HistoryViewer url="/test"/>',
  };
};

export const HttpError : StoryFn<typeof HistoryViewer> = () => {
  fetchMock.restore().mock('/test', 404);
  return {
    components: { HistoryViewer },
    template: '<HistoryViewer url="/test"/>',
  };
};

export const Exception : StoryFn<typeof HistoryViewer> = () => {
  fetchMock.restore().mock('/test', { throws: new Error('Some network error') });
  return {
    components: { HistoryViewer },
    template: '<HistoryViewer url="/test"/>',
  };
};

export const WithHistory : StoryFn<typeof HistoryViewer> = () => {
  fetchMock.restore().mock('/test', mockEntries);
  return {
    components: { HistoryViewer },
    template: '<HistoryViewer url="/test"/>',
  };
};

export const FilteringOnTag : StoryFn<typeof HistoryViewer> = () => {
  fetchMock.restore().mock('/test?tags=foo', mockEntries);
  return {
    components: { HistoryViewer },
    template: '<HistoryViewer url="/test" tags="foo"/>',
  };
};

export const OnlyOneMode : StoryFn<typeof HistoryViewer> = () => {
  fetchMock.restore().mock('/test', mockEntries);
  return {
    components: { HistoryViewer },
    template: \`<HistoryViewer url="/test" :modes="['horizontal']"/>\`,
  };
};

export const TwoModesWithDefault : StoryFn<typeof HistoryViewer> = () => {
  fetchMock.restore().mock('/test', mockEntries);
  return {
    components: { HistoryViewer },
    template: \`<HistoryViewer url="/test" :modes="['horizontal', 'vertical']" default-mode="vertical"/>\`,
  };
};

export default {
  title: 'Global component',
  component: HistoryViewer,
} as Meta<typeof HistoryViewer>;
`,locationsMap:{"no-history":{startLoc:{col:57,line:49},endLoc:{col:1,line:55},startBody:{col:57,line:49},endBody:{col:1,line:55}},"http-error":{startLoc:{col:57,line:57},endLoc:{col:1,line:63},startBody:{col:57,line:57},endBody:{col:1,line:63}},exception:{startLoc:{col:57,line:65},endLoc:{col:1,line:71},startBody:{col:57,line:65},endBody:{col:1,line:71}},"with-history":{startLoc:{col:59,line:73},endLoc:{col:1,line:79},startBody:{col:59,line:73},endBody:{col:1,line:79}},"filtering-on-tag":{startLoc:{col:62,line:81},endLoc:{col:1,line:87},startBody:{col:62,line:81},endBody:{col:1,line:87}},"only-one-mode":{startLoc:{col:59,line:89},endLoc:{col:1,line:95},startBody:{col:59,line:89},endBody:{col:1,line:95}},"two-modes-with-default":{startLoc:{col:67,line:97},endLoc:{col:1,line:103},startBody:{col:67,line:97},endBody:{col:1,line:103}}}}},title:"Global component",component:te},_i=["NoHistory","HttpError","Exception","WithHistory","FilteringOnTag","OnlyOneMode","TwoModesWithDefault"];export{mi as Exception,bi as FilteringOnTag,gi as HttpError,pi as NoHistory,wi as OnlyOneMode,vi as TwoModesWithDefault,yi as WithHistory,_i as __namedExportsOrder,Ci as default};
//# sourceMappingURL=HistoryViewer.stories-58cac80a.js.map
