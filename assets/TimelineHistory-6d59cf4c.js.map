{"version":3,"file":"TimelineHistory-6d59cf4c.js","sources":["../../frontend/components/TimelineHistory.vue"],"sourcesContent":["<!--\n  -\n  -   OSIS stands for Open Student Information System. It's an application\n  -   designed to manage the core business of higher education institutions,\n  -   such as universities, faculties, institutes and professional schools.\n  -   The core business involves the administration of students, teachers,\n  -   courses, programs and so on.\n  -\n  -   Copyright (C) 2015-2021 UniversitÃ© catholique de Louvain (http://www.uclouvain.be)\n  -\n  -   This program is free software: you can redistribute it and/or modify\n  -   it under the terms of the GNU General Public License as published by\n  -   the Free Software Foundation, either version 3 of the License, or\n  -   (at your option) any later version.\n  -\n  -   This program is distributed in the hope that it will be useful,\n  -   but WITHOUT ANY WARRANTY; without even the implied warranty of\n  -   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  -   GNU General Public License for more details.\n  -\n  -   A copy of this license - GNU General Public License - is available\n  -   at the root of the source code of this program.  If not,\n  -   see http://www.gnu.org/licenses/.\n  -\n  -->\n<template>\n  <template v-if=\"!entries.length\">\n    <p v-if=\"!onHistoryEmptyRender\">\n      {{ $t('no_entry') }}\n    </p>\n    <div\n        v-else\n        v-html=\"renderedEmpty\"\n    />\n  </template>\n  <div v-else>\n    <ul\n        v-if=\"!onItemRender\"\n        class=\"timeline\"\n        :class=\"{'timeline-horizontal': horizontal}\"\n    >\n      <li\n          v-for=\"(entry, index) in entries\"\n          :key=\"index\"\n          class=\"timeline-item\"\n      >\n        <div class=\"timeline-badge\" />\n        <div class=\"timeline-panel\">\n          <div class=\"timeline-heading\">\n            <h3 class=\"h4\">\n              <span class=\"glyphicon glyphicon-time\" />\n              {{ entry.created }}\n              -\n              <span class=\"glyphicon glyphicon-user\" />\n              {{ entry.author }}\n            </h3>\n          </div>\n          <div\n              class=\"timeline-body\"\n              v-html=\"entry.message\"\n          />\n        </div>\n      </li>\n    </ul>\n    <ul\n        v-else\n        class=\"timeline\"\n        :class=\"{'timeline-horizontal': horizontal}\"\n        v-html=\"renderedItems\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport type {PropType} from \"vue\";\nimport type {Entry} from \"../interfaces\";\nimport {defineComponent} from \"vue\";\n\nexport default defineComponent({\n  name: 'TimelineHistory',\n  props: {\n    entries: {\n      type: Array as PropType<Entry[]>,\n      required: true,\n    },\n    horizontal: {\n      type: Boolean,\n      default: false,\n    },\n    onItemRender: {\n      type: Function as PropType<(entry: Entry) => string>,\n      default: null,\n    },\n    onHistoryEmptyRender: {\n      type: Function as PropType<(mode: string) => string>,\n      default: null,\n    },\n  },\n  data: function () {\n    const mode: string = this.horizontal ? 'horizontal' : 'vertical';\n    return {\n      // Render dynamically the list items\n      renderedItems: this.onItemRender ? this.entries.map(this.onItemRender).join('') : [],\n      renderedEmpty: this.onHistoryEmptyRender ? this.onHistoryEmptyRender(mode) : '',\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\">\n/* From https://bootsnipp.com/snippets/a3BjR */\n.timeline {\n  list-style: none;\n  padding: 20px;\n  position: relative;\n\n  &:before {\n    top: 40px;\n    bottom: 0;\n    position: absolute;\n    content: \" \";\n    width: 3px;\n    background-color: #999;\n    margin-left: -1.5px;\n  }\n\n  .timeline-item {\n    margin-bottom: 20px;\n    position: relative;\n\n    &:before,\n    &:after {\n      content: \"\";\n      display: table;\n    }\n\n    &:after {\n      clear: both;\n    }\n\n    .timeline-badge {\n      width: 20px;\n      height: 20px;\n      position: absolute;\n      top: 32px;\n      margin-left: -10px;\n      background-color: #7c7c7c;\n      border-radius: 50%;\n    }\n\n    .timeline-panel {\n      position: relative;\n      width: calc(100% - 25px);\n      border: 1px solid #c0c0c0;\n      background: #ffffff;\n      border-radius: 2px;\n      padding: 20px;\n      box-shadow: 0 1px 6px rgba(0, 0, 0, 0.175);\n      float: right;\n\n      &:before {\n        position: absolute;\n        top: 26px;\n        left: -15px;\n        display: inline-block;\n        border-top: 15px solid transparent;\n        border-right: 15px solid #c0c0c0;\n        border-bottom: 15px solid transparent;\n        content: \" \";\n      }\n\n      &:after {\n        position: absolute;\n        top: 27px;\n        left: -14px;\n        display: inline-block;\n        border-top: 14px solid transparent;\n        border-right: 14px solid #fff;\n        border-bottom: 14px solid transparent;\n        content: \" \";\n      }\n\n      .timeline-body {\n        > p {\n          margin-bottom: 0;\n\n          + {\n            p {\n              margin-top: 1em;\n            }\n          }\n        }\n\n        > ul {\n          margin-bottom: 0;\n        }\n      }\n    }\n  }\n\n  &.timeline-horizontal {\n    padding: 20px 0 20px 0;\n    display: inline-block;\n\n    &:before {\n      height: 3px;\n      top: auto;\n      bottom: 9px;\n      left: 40px;\n      right: 0;\n      width: 100%;\n      margin-bottom: 20px;\n    }\n\n    .timeline-item {\n      display: table-cell;\n      min-height: 280px;\n      min-width: 380px;\n      padding-right: 20px;\n      vertical-align: bottom;\n\n      .timeline-panel {\n        width: 100%;\n        margin-bottom: 35px;\n\n        &:before {\n          top: auto;\n          bottom: -15px;\n          left: 28px;\n          border-right: 15px solid transparent;\n          border-top: 15px solid #c0c0c0;\n          border-bottom: 0;\n          border-left: 15px solid transparent;\n        }\n\n        &:after {\n          top: auto;\n          bottom: -14px;\n          left: 29px;\n          border-right: 14px solid transparent;\n          border-top: 14px solid #fff;\n          border-bottom: 0;\n          border-left: 14px solid transparent;\n        }\n      }\n\n      .timeline-badge {\n        top: auto;\n        bottom: 0;\n        left: 45px;\n      }\n    }\n  }\n}\n</style>\n"],"names":["_sfc_main","defineComponent","mode","_hoisted_3","_createElementVNode","_hoisted_5","_hoisted_6","_hoisted_7","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","_normalizeClass","_Fragment","_renderList","entry","index","_hoisted_4","_hoisted_8","_createTextVNode","_toDisplayString","_hoisted_9","_hoisted_2","_hoisted_1"],"mappings":"gPA8EA,MAAAA,EAAeC,EAAgB,CAC7B,KAAM,kBACN,MAAO,CACL,QAAS,CACP,KAAM,MACN,SAAU,EACZ,EACA,WAAY,CACV,KAAM,QACN,QAAS,EACX,EACA,aAAc,CACZ,KAAM,SACN,QAAS,IACX,EACA,qBAAsB,CACpB,KAAM,SACN,QAAS,IACX,CACF,EACA,KAAM,UAAY,CACV,MAAAC,EAAe,KAAK,WAAa,aAAe,WAC/C,MAAA,CAEL,cAAe,KAAK,aAAe,KAAK,QAAQ,IAAI,KAAK,YAAY,EAAE,KAAK,EAAE,EAAI,CAAC,EACnF,cAAe,KAAK,qBAAuB,KAAK,qBAAqBA,CAAI,EAAI,EAAA,CAEjF,CACF,CAAC,kCA3DYC,EAAA,CAAA,IAAK,KACqBC,EAAA,MAAA,CAAA,MAAA,kBAAA,KAAA,EAAA,EACvBC,EAAA,CAAA,MAAM,kBACRC,EAAA,CAAA,MAAA,oBAGAC,EAAA,CAAA,MAAA,+JA3BZC,EAQWC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,CAPC,OAAAL,EAAA,QAAA,cASV,MA2BKL,EAAA,CAAAK,EAAA,cAGIM,IAAAC,EAAC,KAAU,CAEhB,IAAA,EAAA,MAAAC,EAAA,CAAA,WAAA,CAAA,sBAAAR,EAAA,UAAA,CAAA,CAAA,0CALCM,EAAA,IAzBK,KAAU,CAAA,IAAA,EAGlB,MAAAE,EAAA,CAAA,WAAA,CAAA,sBAqBKR,EApBwB,UAAA,CAAA,CAAA,CAAA,EAAA,IACnB,EAAK,EAAAO,EAAAE,EAAA,KAAAC,EAAAV,EAAA,QAAA,CAAAW,EAAAC,KACNN,EAAA,EAAgBC,EAAA,KAAA,CAAA,IAAAK,EAEvB,MAAA,eAAA,EACA,CAAAC,EAEIjB,EAAA,MAMKC,EANL,CAC2CD,EAAA,MAAAE,EAAA,CACzCF,EAAA,KAAAG,EAAA,CAEAe,EAAyCC,EAAA,IACzCC,EAAGL,EAAM,OAAM,EAAA,MAAA,CAAA,EAAAM,sBAGnB,CAAA,CAAA,CAAA,IAEkB,MAAO,CAAA,MAAA,0DAOtB,EAAA,CAAA,OAvCCX,EAAA,EAAAC,EAAVE,EAEI,CAAA,IAAA,GAAA,CAAAT,EAAA,sBAAAM,IAGQC,EAAa,MAAA,CAAA,IAAA,2BAG3B,EAAA,KAAA,EAAAW,CAAA,IANMZ,EAAA,EAAAC,EAAA,IAAAY,EAAAH,EAAAhB,EAAA,GAAA,UAAA,CAAA,EAAA,CAAA,EAMN,EAAA,EAEa"}