{"version":3,"file":"osis-history.umd.min.js","sources":["../../../frontend/utils.ts","../../../frontend/components/TableHistory.vue","../../../frontend/components/TimelineHistory.vue","../../../frontend/HistoryViewer.vue","../../../frontend/locales/en.ts","../../../frontend/locales/fr.ts","../../../frontend/i18n.ts","../../../frontend/main.ts"],"sourcesContent":["/*\n *\n *   OSIS stands for Open Student Information System. It's an application\n *   designed to manage the core business of higher education institutions,\n *   such as universities, faculties, institutes and professional schools.\n *   The core business involves the administration of students, teachers,\n *   courses, programs and so on.\n *\n *   Copyright (C) 2015-2022 Université catholique de Louvain (http://www.uclouvain.be)\n *\n *   This program is free software: you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation, either version 3 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   A copy of this license - GNU General Public License - is available\n *   at the root of the source code of this program.  If not,\n *   see http://www.gnu.org/licenses/.\n *\n */\n\nexport function filterXssAndFormat (value: string) : string {\n  if (!value) return '';\n  const paragraphs = value.toString()\n    // replace newlines (CR and CRLF with only LF)\n    .replace(/\\r\\n|\\r/g, '\\n')\n    // escape tags\n    .replace(/</g, '&lt;').replace(/>/g, '&gt;')\n    // split double newlines to paragraphs\n    .split(/\\n{2,}/g);\n  // replace simple newlines with <br> and join with element with <p>\n  return paragraphs.map(p => '<p>' + p.replace(/\\n/g, '<br />') + '</p>', '').join('\\n\\n');\n}\n","<!--\n  -\n  -   OSIS stands for Open Student Information System. It's an application\n  -   designed to manage the core business of higher education institutions,\n  -   such as universities, faculties, institutes and professional schools.\n  -   The core business involves the administration of students, teachers,\n  -   courses, programs and so on.\n  -\n  -   Copyright (C) 2015-2021 Université catholique de Louvain (http://www.uclouvain.be)\n  -\n  -   This program is free software: you can redistribute it and/or modify\n  -   it under the terms of the GNU General Public License as published by\n  -   the Free Software Foundation, either version 3 of the License, or\n  -   (at your option) any later version.\n  -\n  -   This program is distributed in the hope that it will be useful,\n  -   but WITHOUT ANY WARRANTY; without even the implied warranty of\n  -   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  -   GNU General Public License for more details.\n  -\n  -   A copy of this license - GNU General Public License - is available\n  -   at the root of the source code of this program.  If not,\n  -   see http://www.gnu.org/licenses/.\n  -\n  -->\n<template>\n  <table class=\"table table-striped\">\n    <thead v-if=\"!onHeadersRender\">\n      <tr>\n        <th>{{ $t('date') }}</th>\n        <th>{{ $t('message') }}</th>\n        <th>{{ $t('author') }}</th>\n      </tr>\n    </thead>\n    <thead\n        v-else\n        v-html=\"renderedHeaders\"\n    />\n\n    <tbody v-if=\"entries.length && !onItemRender\">\n      <tr\n          v-for=\"(entry, index) in entries\"\n          :key=\"index\"\n      >\n        <td>{{ entry.created }}</td>\n        <td v-html=\"filterXssAndFormat(entry.message)\" />\n        <td>{{ entry.author }}</td>\n      </tr>\n    </tbody>\n    <tbody\n        v-else-if=\"entries.length && !!onItemRender\"\n        v-html=\"renderedRows\"\n    />\n    <tbody\n        v-else-if=\"!!onHistoryEmptyRender\"\n        v-html=\"renderedEmpty\"\n    />\n    <tbody v-else>\n      <tr>\n        <td colspan=\"3\">\n          {{ $t('no_entry') }}\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent} from \"vue\";\nimport type {PropType} from \"vue\";\nimport type {Entry} from \"../interfaces\";\nimport {filterXssAndFormat} from \"../utils\";\n\nexport default defineComponent({\n  name: 'TableHistory',\n  props: {\n    entries: {\n      type: Array as PropType<Entry[]>,\n      required: true,\n    },\n    onItemRender: {\n      type: Function as PropType<(entry: Entry) => string>,\n      default: null,\n    },\n    onHeadersRender: {\n      type: Function as PropType<(entries: Entry[]) => string>,\n      default: null,\n    },\n    onHistoryEmptyRender: {\n      type: Function as PropType<(mode: string) => string>,\n      default: null,\n    },\n  },\n  data: function () {\n    return {\n      // Render dynamically the table headers and items\n      renderedHeaders: this.onHeadersRender ? this.onHeadersRender(this.entries) : '',\n      renderedRows: this.onItemRender ? this.entries.map(this.onItemRender).join('') : [],\n      renderedEmpty: this.onHistoryEmptyRender ? this.onHistoryEmptyRender('table') : '',\n    };\n  },\n  methods: {filterXssAndFormat},\n});\n</script>\n\n<style>\n.history-viewer .table {\n  background-color: #fff;\n}\n</style>\n","<!--\n  -\n  -   OSIS stands for Open Student Information System. It's an application\n  -   designed to manage the core business of higher education institutions,\n  -   such as universities, faculties, institutes and professional schools.\n  -   The core business involves the administration of students, teachers,\n  -   courses, programs and so on.\n  -\n  -   Copyright (C) 2015-2021 Université catholique de Louvain (http://www.uclouvain.be)\n  -\n  -   This program is free software: you can redistribute it and/or modify\n  -   it under the terms of the GNU General Public License as published by\n  -   the Free Software Foundation, either version 3 of the License, or\n  -   (at your option) any later version.\n  -\n  -   This program is distributed in the hope that it will be useful,\n  -   but WITHOUT ANY WARRANTY; without even the implied warranty of\n  -   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  -   GNU General Public License for more details.\n  -\n  -   A copy of this license - GNU General Public License - is available\n  -   at the root of the source code of this program.  If not,\n  -   see http://www.gnu.org/licenses/.\n  -\n  -->\n<template>\n  <template v-if=\"!entries.length\">\n    <p v-if=\"!onHistoryEmptyRender\">\n      {{ $t('no_entry') }}\n    </p>\n    <div\n        v-else\n        v-html=\"renderedEmpty\"\n    />\n  </template>\n  <div v-else>\n    <ul\n        v-if=\"!onItemRender\"\n        class=\"timeline\"\n        :class=\"{'timeline-horizontal': horizontal}\"\n    >\n      <li\n          v-for=\"(entry, index) in entries\"\n          :key=\"index\"\n          class=\"timeline-item\"\n      >\n        <div class=\"timeline-badge\" />\n        <div class=\"timeline-panel\">\n          <div class=\"timeline-heading\">\n            <h3 class=\"h4\">\n              <span class=\"glyphicon glyphicon-time\" />\n              {{ entry.created }}\n              -\n              <span class=\"glyphicon glyphicon-user\" />\n              {{ entry.author }}\n            </h3>\n          </div>\n          <div\n              class=\"timeline-body\"\n              v-html=\"entry.message\"\n          />\n        </div>\n      </li>\n    </ul>\n    <ul\n        v-else\n        class=\"timeline\"\n        :class=\"{'timeline-horizontal': horizontal}\"\n        v-html=\"renderedItems\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport type {PropType} from \"vue\";\nimport type {Entry} from \"../interfaces\";\nimport {defineComponent} from \"vue\";\n\nexport default defineComponent({\n  name: 'TimelineHistory',\n  props: {\n    entries: {\n      type: Array as PropType<Entry[]>,\n      required: true,\n    },\n    horizontal: {\n      type: Boolean,\n      default: false,\n    },\n    onItemRender: {\n      type: Function as PropType<(entry: Entry) => string>,\n      default: null,\n    },\n    onHistoryEmptyRender: {\n      type: Function as PropType<(mode: string) => string>,\n      default: null,\n    },\n  },\n  data: function () {\n    const mode: string = this.horizontal ? 'horizontal' : 'vertical';\n    return {\n      // Render dynamically the list items\n      renderedItems: this.onItemRender ? this.entries.map(this.onItemRender).join('') : [],\n      renderedEmpty: this.onHistoryEmptyRender ? this.onHistoryEmptyRender(mode) : '',\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\">\n/* From https://bootsnipp.com/snippets/a3BjR */\n.timeline {\n  list-style: none;\n  padding: 20px;\n  position: relative;\n\n  &:before {\n    top: 40px;\n    bottom: 0;\n    position: absolute;\n    content: \" \";\n    width: 3px;\n    background-color: #999;\n    margin-left: -1.5px;\n  }\n\n  .timeline-item {\n    margin-bottom: 20px;\n    position: relative;\n\n    &:before,\n    &:after {\n      content: \"\";\n      display: table;\n    }\n\n    &:after {\n      clear: both;\n    }\n\n    .timeline-badge {\n      width: 20px;\n      height: 20px;\n      position: absolute;\n      top: 32px;\n      margin-left: -10px;\n      background-color: #7c7c7c;\n      border-radius: 50%;\n    }\n\n    .timeline-panel {\n      position: relative;\n      width: calc(100% - 25px);\n      border: 1px solid #c0c0c0;\n      background: #ffffff;\n      border-radius: 2px;\n      padding: 20px;\n      box-shadow: 0 1px 6px rgba(0, 0, 0, 0.175);\n      float: right;\n\n      &:before {\n        position: absolute;\n        top: 26px;\n        left: -15px;\n        display: inline-block;\n        border-top: 15px solid transparent;\n        border-right: 15px solid #c0c0c0;\n        border-bottom: 15px solid transparent;\n        content: \" \";\n      }\n\n      &:after {\n        position: absolute;\n        top: 27px;\n        left: -14px;\n        display: inline-block;\n        border-top: 14px solid transparent;\n        border-right: 14px solid #fff;\n        border-bottom: 14px solid transparent;\n        content: \" \";\n      }\n\n      .timeline-body {\n        > p {\n          margin-bottom: 0;\n\n          + {\n            p {\n              margin-top: 1em;\n            }\n          }\n        }\n\n        > ul {\n          margin-bottom: 0;\n        }\n      }\n    }\n  }\n\n  &.timeline-horizontal {\n    padding: 20px 0 20px 0;\n    display: inline-block;\n\n    &:before {\n      height: 3px;\n      top: auto;\n      bottom: 9px;\n      left: 40px;\n      right: 0;\n      width: 100%;\n      margin-bottom: 20px;\n    }\n\n    .timeline-item {\n      display: table-cell;\n      min-height: 280px;\n      min-width: 380px;\n      padding-right: 20px;\n      vertical-align: bottom;\n\n      .timeline-panel {\n        width: 100%;\n        margin-bottom: 35px;\n\n        &:before {\n          top: auto;\n          bottom: -15px;\n          left: 28px;\n          border-right: 15px solid transparent;\n          border-top: 15px solid #c0c0c0;\n          border-bottom: 0;\n          border-left: 15px solid transparent;\n        }\n\n        &:after {\n          top: auto;\n          bottom: -14px;\n          left: 29px;\n          border-right: 14px solid transparent;\n          border-top: 14px solid #fff;\n          border-bottom: 0;\n          border-left: 14px solid transparent;\n        }\n      }\n\n      .timeline-badge {\n        top: auto;\n        bottom: 0;\n        left: 45px;\n      }\n    }\n  }\n}\n</style>\n","<!--\n  -\n  -   OSIS stands for Open Student Information System. It's an application\n  -   designed to manage the core business of higher education institutions,\n  -   such as universities, faculties, institutes and professional schools.\n  -   The core business involves the administration of students, teachers,\n  -   courses, programs and so on.\n  -\n  -   Copyright (C) 2015-2021 Université catholique de Louvain (http://www.uclouvain.be)\n  -\n  -   This program is free software: you can redistribute it and/or modify\n  -   it under the terms of the GNU General Public License as published by\n  -   the Free Software Foundation, either version 3 of the License, or\n  -   (at your option) any later version.\n  -\n  -   This program is distributed in the hope that it will be useful,\n  -   but WITHOUT ANY WARRANTY; without even the implied warranty of\n  -   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  -   GNU General Public License for more details.\n  -\n  -   A copy of this license - GNU General Public License - is available\n  -   at the root of the source code of this program.  If not,\n  -   see http://www.gnu.org/licenses/.\n  -\n  -->\n<template>\n  <div\n      v-if=\"modes.length > 1\"\n      class=\"btn-group\"\n      data-toggle=\"buttons\"\n  >\n    <template\n        v-for=\"buttonMode in modes\"\n        :key=\"buttonMode\"\n    >\n      <label\n          v-if=\"buttonMode === 'table'\"\n          class=\"btn btn-default\"\n          :class=\"{active: mode === 'TableHistory'}\"\n          @click=\"mode = 'TableHistory'\"\n      >\n        <input\n            type=\"radio\"\n            name=\"mode\"\n        >\n        <span class=\"fa fa-table\" />\n      </label>\n      <label\n          v-else-if=\"buttonMode === 'vertical'\"\n          class=\"btn btn-default\"\n          :class=\"{active: mode === 'TimelineHistory' && horizontal === false}\"\n          @click=\"mode = 'TimelineHistory'; horizontal = false;\"\n      >\n        <input\n            type=\"radio\"\n            name=\"mode\"\n        >\n        <span class=\"fas fa-ellipsis-v\" />\n      </label>\n      <label\n          v-else\n          class=\"btn btn-default\"\n          :class=\"{active: mode === 'TimelineHistory' && horizontal === true}\"\n          @click=\"mode = 'TimelineHistory'; horizontal = true;\"\n      >\n        <input\n            type=\"radio\"\n            name=\"mode\"\n        >\n        <span class=\"fa fa-ellipsis-h\" />\n      </label>\n    </template>\n  </div>\n  <div class=\"viewport\">\n    <span\n        v-if=\"loading\"\n        class=\"spinner\"\n    />\n    <span\n        v-else-if=\"error\"\n        class=\"text-danger\"\n    >\n      {{ error }}\n    </span>\n    <component\n        :is=\"mode\"\n        v-else\n        :entries=\"entries\"\n        :horizontal=\"horizontal\"\n        :on-item-render=\"mode === 'TableHistory' ? onItemRenderTable : (horizontal ? onItemRenderHorizontalTimeline : onItemRenderVerticalTimeline)\"\n        :on-headers-render=\"onHeadersRenderTable\"\n        :on-history-empty=\"onHeadersRenderTable\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport TableHistory from './components/TableHistory.vue';\nimport TimelineHistory from './components/TimelineHistory.vue';\nimport {defineComponent} from \"vue\";\nimport type {PropType} from \"vue\";\nimport type {Entry} from \"./interfaces\";\n\n\nexport default defineComponent({\n  name: 'HistoryViewer',\n  components: {TableHistory, TimelineHistory},\n  props: {\n    url: {\n      type: String,\n      required: true,\n    },\n    tags: {\n      type: String,\n      default: '',\n    },\n    modes: {\n      type: Array as PropType<string[]>,\n      default: () => ['table', 'vertical', 'horizontal'],\n    },\n    defaultMode: {\n      type: String,\n      default: 'table',\n    },\n    onItemRenderTable: {\n      type: Function,\n      default: null,\n    },\n    onHeadersRenderTable: {\n      type: Function,\n      default: null,\n    },\n    onItemRenderHorizontalTimeline: {\n      type: Function,\n      default: null,\n    },\n    onItemRenderVerticalTimeline: {\n      type: Function,\n      default: null,\n    },\n    onHistoryEmptyRender: {\n      type: Function,\n      default: null,\n    },\n  },\n  data() {\n    let defaultMode: string = this.defaultMode;\n    if (!this.modes.includes(this.defaultMode)) {\n      defaultMode = this.modes[0];\n    }\n    return {\n      mode: defaultMode === 'table' ? 'TableHistory' : 'TimelineHistory',\n      horizontal: defaultMode === 'horizontal',\n      entries: [] as Entry[],\n      error: '',\n      loading: true,\n    };\n  },\n  mounted() {\n    void this.loadEntries();\n  },\n  methods: {\n    loadEntries: async function () {\n      try {\n        const response = await fetch(`${this.url}${this.tags ? '?tags=' + this.tags : ''}`);\n        if (response.status === 200) {\n          this.entries = (await response.json() as Entry[]);\n        } else {\n          this.error = response.statusText;\n        }\n      } catch (e) {\n        this.error = (e as Error).message;\n      }\n      this.loading = false;\n    },\n  },\n});\n</script>\n\n<style>\n.history-viewer .viewport {\n  margin-top: 1em;\n  overflow-x: scroll;\n}\n\n.history-viewer .spinner {\n  display: block;\n  margin: 0 auto;\n  border: 3px solid #286090;\n  border-top-color: transparent;\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  animation: spin 1.5s linear infinite;\n}\n</style>\n","/*\n *\n * OSIS stands for Open Student Information System. It's an application\n * designed to manage the core business of higher education institutions,\n * such as universities, faculties, institutes and professional schools.\n * The core business involves the administration of students, teachers,\n * courses, programs and so on.\n *\n * Copyright (C) 2015-2023 Université catholique de Louvain (http://www.uclouvain.be)\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * A copy of this license - GNU General Public License - is available\n * at the root of the source code of this program.  If not,\n * see http://www.gnu.org/licenses/.\n *\n */\n\nexport default {\n  date: 'Date',\n  message: 'Message',\n  author: 'Author',\n  no_entry: 'No history entry yet.',\n};\n","/*\n *\n * OSIS stands for Open Student Information System. It's an application\n * designed to manage the core business of higher education institutions,\n * such as universities, faculties, institutes and professional schools.\n * The core business involves the administration of students, teachers,\n * courses, programs and so on.\n *\n * Copyright (C) 2015-2023 Université catholique de Louvain (http://www.uclouvain.be)\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * A copy of this license - GNU General Public License - is available\n * at the root of the source code of this program.  If not,\n * see http://www.gnu.org/licenses/.\n *\n */\n\nexport default {\n  date: 'Date',\n  message: 'Message',\n  author: 'Auteur',\n  no_entry: \"Aucune entrée d'historique pour le moment.\",\n};\n","/*\n *\n *   OSIS stands for Open Student Information System. It's an application\n *   designed to manage the core business of higher education institutions,\n *   such as universities, faculties, institutes and professional schools.\n *   The core business involves the administration of students, teachers,\n *   courses, programs and so on.\n *\n *   Copyright (C) 2015-2021 Université catholique de Louvain (http://www.uclouvain.be)\n *\n *   This program is free software: you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation, either version 3 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   A copy of this license - GNU General Public License - is available\n *   at the root of the source code of this program.  If not,\n *   see http://www.gnu.org/licenses/.\n *\n */\n\nimport {createI18n} from 'vue-i18n';\nimport en from \"./locales/en\";\nimport fr from \"./locales/fr\";\n\nexport const i18n = createI18n({\n  locale: document.documentElement.lang || 'en',\n  messages: {\n    en,\n    fr,\n  },\n});\n","/*\n *\n *   OSIS stands for Open Student Information System. It's an application\n *   designed to manage the core business of higher education institutions,\n *   such as universities, faculties, institutes and professional schools.\n *   The core business involves the administration of students, teachers,\n *   courses, programs and so on.\n *\n *   Copyright (C) 2015-2021 Université catholique de Louvain (http://www.uclouvain.be)\n *\n *   This program is free software: you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation, either version 3 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   A copy of this license - GNU General Public License - is available\n *   at the root of the source code of this program.  If not,\n *   see http://www.gnu.org/licenses/.\n *\n */\n/* eslint-disable vue/prefer-import-from-vue */\nimport {createApp} from '@vue/runtime-dom';\nimport HistoryViewer from './HistoryViewer.vue';\nimport {i18n} from './i18n';\nimport {filterXssAndFormat} from './utils';\n\n\ninterface Props extends Record<string, unknown> {\n  url: string,\n  pageSize?: number,\n  tags?: string[],\n  onItemRenderTable?: CallableFunction,\n  onHeadersRenderTable?: CallableFunction,\n  onItemRenderHorizontalTimeline?: CallableFunction,\n  onItemRenderVerticalTimeline?: CallableFunction,\n  onHistoryEmptyRender?: CallableFunction,\n}\n\ndocument.querySelectorAll<HTMLElement>('.history-viewer').forEach((elem) => {\n  const props: Props = {url: \"\", ...elem.dataset};\n  for (const propName of [\n    'onItemRenderTable',\n    'onHeadersRenderTable',\n    'onItemRenderHorizontalTimeline',\n    'onItemRenderVerticalTimeline',\n    'onHistoryEmptyRender',\n  ] as string[]) {\n    if (propName in props) {\n      const customFunctionName = props[propName] as string;\n      // @ts-ignore: get the function from global scope\n      props[propName] = window[customFunctionName] as CallableFunction;\n    }\n  }\n  if (typeof elem.dataset.modes !== 'undefined') {\n    props.modes = elem.dataset.modes.split(',');\n  }\n  createApp(HistoryViewer, props).use(i18n).mount(elem);\n});\n\n// Expose util for custom rendering functions\nexport {\n  filterXssAndFormat,\n};\n"],"names":["filterXssAndFormat","value","p","_sfc_main$2","defineComponent","_hoisted_7","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","_createElementBlock","_hoisted_1","_openBlock","_hoisted_3","_hoisted_2","_createElementVNode","_toDisplayString","_hoisted_4","_Fragment","_renderList","entry","index","_hoisted_5","_hoisted_6","_hoisted_8","_sfc_main$1","mode","_normalizeClass","_createTextVNode","_hoisted_9","_sfc_main","TableHistory","TimelineHistory","defaultMode","response","e","_hoisted_10","_hoisted_12","_hoisted_13","buttonMode","$event","_createCommentVNode","_hoisted_11","_createBlock","_resolveDynamicComponent","en","fr","i18n","createI18n","elem","props","propName","customFunctionName","createApp","HistoryViewer"],"mappings":"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"}